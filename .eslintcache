[{"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\index.js":"1","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\serviceWorker.js":"2","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\App.js":"3","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Nav\\Nav.js":"4","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\ToggleSwitch\\ToggleSwitch.js":"5","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Footer\\Footer.js":"6","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Privacy Policy\\PrivacyPolicy.js":"7","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\Body.js":"8","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Forms\\Form.jsx":"9","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\Checkout\\CheckoutForm.js":"10","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\ProductCard\\ProductCard.js":"11","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\ProductExpansion\\ProductExpansion.js":"12","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\Checkout\\DisplayCart\\DisplayCart.jsx":"13","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Login\\Identity.jsx":"14","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\MasterPage\\MasterPage.jsx":"15","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\ProductCard\\SearchProductCard.js":"16"},{"size":549,"mtime":1619657783213,"results":"17","hashOfConfig":"18"},{"size":5086,"mtime":1605557701298,"results":"19","hashOfConfig":"18"},{"size":248,"mtime":1609576598175,"results":"20","hashOfConfig":"18"},{"size":6992,"mtime":1619657628700,"results":"21","hashOfConfig":"18"},{"size":1178,"mtime":1619401922673,"results":"22","hashOfConfig":"18"},{"size":622,"mtime":1615340010920,"results":"23","hashOfConfig":"18"},{"size":4105,"mtime":1609612882671,"results":"24","hashOfConfig":"18"},{"size":11147,"mtime":1619657669881,"results":"25","hashOfConfig":"18"},{"size":3025,"mtime":1617703074390,"results":"26","hashOfConfig":"18"},{"size":20643,"mtime":1619546053391,"results":"27","hashOfConfig":"18"},{"size":2427,"mtime":1619653858657,"results":"28","hashOfConfig":"18"},{"size":3821,"mtime":1608282028693,"results":"29","hashOfConfig":"18"},{"size":3249,"mtime":1615516367633,"results":"30","hashOfConfig":"18"},{"size":475,"mtime":1611902770209,"results":"31","hashOfConfig":"18"},{"size":9945,"mtime":1617703509334,"results":"32","hashOfConfig":"18"},{"size":2258,"mtime":1619654039618,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"j1hohi",{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"38"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\index.js",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\serviceWorker.js",[],["68","69"],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\App.js",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Nav\\Nav.js",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\ToggleSwitch\\ToggleSwitch.js",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Footer\\Footer.js",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Privacy Policy\\PrivacyPolicy.js",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\Body.js",["70"],"import React from 'react';\r\nimport './Body.scss';\r\nimport './SearchBar/SearchBar.scss';\r\nimport ProductCard from './ProductCard/ProductCard.js';\r\nimport SearchProductCard from './ProductCard/SearchProductCard.js';\r\nimport ToggleSwitch from './ToggleSwitch/ToggleSwitch.js';\r\nimport ProductExpansion from './ProductExpansion/ProductExpansion.js';\r\nimport { add, quantity, get, exists } from 'cart-localstorage';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Default from \"./Images/Main/Default.jpg\";\r\nimport Hardy from \"./Images/Main/Hardy.jpg\";\r\nimport Tropical from \"./Images/Main/Tropical.jpg\";\r\nimport Byblis from \"./Images/Main/Byblis.jpg\";\r\nimport Nepenthes from \"./Images/Main/Nepenthes.jpg\";\r\n\r\nclass Body extends React.Component {\r\n\r\n    /**Initialize State */\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            expansion: [{}],\r\n            selector: 'Default',\r\n            query: '',\r\n        };\r\n        this.closeView = this.closeView.bind(this);\r\n        this.filterProducts = this.filterProducts.bind(this);\r\n    }\r\n\r\n    windowSelection() {\r\n        var select = window.location.href;\r\n        select = select.replace('https://www.lacarnivores.com/','');\r\n        select = select.replace('#','');\r\n        if(select.length === 0) select = 'Default';\r\n        if(this.state.selector !== select) {\r\n            this.props.rerenderParentCallback();\r\n            this.setState({selector: select});\r\n            this.forceUpdate();\r\n        } \r\n        this.updateTitle(select); // optimize this\r\n    }\r\n\r\n    /** Onload Products from Backend */\r\n    async componentDidMount() {\r\n        //Initialize Props\r\n        this.setState({ selector: this.props.Selector });\r\n        this.windowSelection();\r\n        //Retrieve Product API\r\n        await fetch('https://lacarnivoresapi.netlify.app/.netlify/functions/api/products')\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({ data: Array.from(data.data) });\r\n        }).catch(err => {\r\n            console.log(err);\r\n            // if product does not load, force refresh the page\r\n            window.location.reload();\r\n        });\r\n    }\r\n\r\n    /**Update will check if props had updated to prevent NESTED STATE issues */\r\n    componentDidUpdate(oldProps) {\r\n        const newProps = this.props;\r\n        this.windowSelection();\r\n        if (oldProps.Update !== newProps.Update) {\r\n            if(oldProps.Selector !== newProps.Selector) {\r\n                this.setState({ selector: newProps.Selector, query: '' });\r\n            }\r\n            this.updateTitle(newProps.Selector);\r\n            this.closeView();\r\n        }\r\n    }\r\n\r\n    /**Closes model*/\r\n    closeView() {\r\n        this.setState({ expansion: [{ view: false }] });\r\n        document.getElementsByTagName('body')[0].classList.remove('freeze');\r\n    }\r\n\r\n    /**Passes infromartion from ProductCard->ProductCardExpansion*/\r\n    passToExpansion(product) {\r\n        this.setState({ expansion: [{ view: product.view, meta: product.meta }] });\r\n        document.getElementsByTagName('body')[0].classList.add('freeze'); \r\n    }\r\n\r\n    /**Add product to local storage */\r\n    addToCart(product) {\r\n        let data = {\r\n            id: product.id, \r\n            name: product.name, \r\n            price: (product.meta.metadata.price/100).toFixed(2), \r\n            quantity: product.meta.metadata.quantity,\r\n            image: product.meta.images\r\n        }\r\n        const productDetails = (data);\r\n        if(exists(product.id) ) {\r\n            if(get(product.id).quantity >= parseInt(productDetails.quantity)) {\r\n                toast(\"No more in stock\"); //dont add to cart\r\n            } else {\r\n                add(productDetails, 1);\r\n                toast(data.name + \" Added to cart\");\r\n                this.props.rerenderParentCallback();\r\n            }\r\n        } else {\r\n            add(productDetails, 1);\r\n            toast(data.name + \" Added to cart\");\r\n            this.props.rerenderParentCallback();\r\n        }\r\n    }\r\n    \r\n    /**Remove Product from local Storage */\r\n    deleteFromCart(product) {\r\n        quantity(product.id, -1);\r\n        this.props.rerenderParentCallback();\r\n    }\r\n\r\n    /**Changes type navigation tab */\r\n    onChangeSelector(selected) {\r\n        this.setState({ selector: selected, query: '' });\r\n        this.updateTitle(selected);\r\n        this.closeView();\r\n    }\r\n\r\n    /**Modify carousel and text */\r\n    updateTitle(selected) {\r\n        if(this.state.query.length === 0)\r\n        switch(selected) {\r\n            case 'Default':\r\n                document.getElementById(\"parrallax\").style.backgroundImage = (\"url('\" + Default + \"')\");\r\n                document.getElementById(\"parrallax-title\").innerHTML = \"Preservation Through Cultivation\";\r\n                document.getElementById(\"Welcome\").innerHTML = \"Welcome\";\r\n                document.getElementById(\"title-text\").innerHTML = \"We are a new starting nursery with a wide variety of carnivorous plants and great service. Since we are new, our selections may have limited quanties,but as we grow together we will grow in product availabilty and hopefully soon a storefront. Here at LA Carnivores we raise and purchase carnivorous plants from quality vendors to make sure you get the most reliable plants in the country.\";\r\n                break;\r\n            case 'Hardy':\r\n                document.getElementById(\"parrallax\").style.backgroundImage = (\"url('\" + Hardy + \"')\");\r\n                document.getElementById(\"parrallax-title\").innerHTML = \"Cold & Hardy\";\r\n                document.getElementById(\"Welcome\").innerHTML = \"\";\r\n                document.getElementById(\"title-text\").innerHTML = \"somethingg something\";\r\n                break;\r\n            case 'Tropical':\r\n                document.getElementById(\"parrallax\").style.backgroundImage = (\"url('\" + Tropical + \"')\");\r\n                document.getElementById(\"parrallax-title\").innerHTML = \"Tropical\";\r\n                document.getElementById(\"Welcome\").innerHTML = \"\";\r\n                document.getElementById(\"title-text\").innerHTML = \"somethingg something\";\r\n                break;\r\n            case 'Byblis':\r\n                document.getElementById(\"parrallax\").style.backgroundImage = (\"url('\" + Byblis + \"')\");\r\n                document.getElementById(\"parrallax-title\").innerHTML = \"Byblis\";\r\n                document.getElementById(\"Welcome\").innerHTML = \"\";\r\n                document.getElementById(\"title-text\").innerHTML = \"somethingg something\";\r\n                break;\r\n            case 'Nepenthes':\r\n                document.getElementById(\"parrallax\").style.backgroundImage = (\"url('\" + Nepenthes + \"')\");\r\n                document.getElementById(\"parrallax-title\").innerHTML = \"Nepenthes\";\r\n                document.getElementById(\"Welcome\").innerHTML = \"\";\r\n                document.getElementById(\"title-text\").innerHTML = \"somethingg something\";\r\n                break;\r\n            default:\r\n                document.getElementById(\"parrallax\").style.backgroundImage = (\"url('\" + null + \"')\");\r\n                document.getElementById(\"parrallax-title\").innerHTML = \"Error\";\r\n                document.getElementById(\"Welcome\").innerHTML = \"\";\r\n                document.getElementById(\"title-text\").innerHTML = \"somethingg something\";\r\n                break;\r\n        }  \r\n    }\r\n\r\n    // Optimize this, shouldnt need 2 maps\r\n    filterProducts() {\r\n        if(this.state.query.length === 0) return null;\r\n        const arr = this.state.data.filter((prod) => {\r\n            const name = prod.name.toLowerCase();\r\n            return name.includes(this.state.query);\r\n        });\r\n        return (\r\n            <div>\r\n                <h2>Search Results:</h2>\r\n                {\r\n                    arr.length === 0 ? <h2>no results</h2> :\r\n                    arr.map(p =>\r\n                        <SearchProductCard \r\n                            key={p.id} {...p}  \r\n                            addToCart={this.addToCart.bind(this)} \r\n                            deleteFromCart={this.deleteFromCart.bind(this)} \r\n                            passToExpansion={this.passToExpansion.bind(this)} \r\n                        /> \r\n                    )\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Body\">\r\n                <ToastContainer limit = \"5\" pauseOnHover={false} />\r\n                <ProductExpansion view={this.state.expansion[0].view} meta={this.state.expansion[0].meta} closeView={this.closeView} />\r\n                <div className=\"Carousel-Container\" id=\"parrallax\">\r\n                    <h1 id=\"parrallax-title\">Preservation Through Cultivation</h1>\r\n                    <div id=\"searchbar-container\">\r\n                        <label htmlFor=\"header-search\">\r\n                            <span className=\"visually-hidden\">Search for plants</span>\r\n                        </label>\r\n                        <input\r\n                            value={this.state.query}\r\n                            onInput={e => this.setState({query: e.currentTarget.value})}\r\n                            id=\"search-input\"\r\n                            type=\"text\"\r\n                            id=\"header-search\"\r\n                            placeholder=\"Search for plants\"\r\n                            name=\"s\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"Container\">\r\n                    <div className=\"Left-Nav mobile\">\r\n                        <ToggleSwitch Selector={this.onChangeSelector.bind(this)} />\r\n                    </div>\r\n                    <div className=\"Content\">\r\n                        {\r\n                        this.state.query.length === 0 ? (\r\n                            <div>\r\n                                <h1 id=\"Welcome\">Welcome</h1>\r\n                                <p id=\"title-text\"/>\r\n                                <div className=\"Product-Cards\">\r\n                                    {\r\n                                        this.state.data.map( p => \r\n                                            <ProductCard \r\n                                            key={p.id} {...p} \r\n                                            selector={this.state.selector} \r\n                                            addToCart={this.addToCart.bind(this)} \r\n                                            deleteFromCart={this.deleteFromCart.bind(this)} \r\n                                            passToExpansion={this.passToExpansion.bind(this)} \r\n                                            /> \r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            ) : (<this.filterProducts/>)\r\n                        }\r\n                        <div id=\"bottom-space\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Body;","C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Forms\\Form.jsx",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\Checkout\\CheckoutForm.js",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\ProductCard\\ProductCard.js",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\ProductExpansion\\ProductExpansion.js",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\Checkout\\DisplayCart\\DisplayCart.jsx",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Login\\Identity.jsx",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\MasterPage\\MasterPage.jsx",[],"C:\\Users\\marcos\\Documents\\GitHub\\LACarnivores-react\\src\\App\\Body\\ProductCard\\SearchProductCard.js",[],{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":210,"column":29,"nodeType":"77","endLine":210,"endColumn":47},"no-native-reassign",["78"],"no-negated-in-lhs",["79"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","no-global-assign","no-unsafe-negation"]